depends  g++  &&

if [[ $KID3_KDE == "--with-kde" ]]
then
  depends  libxslt                     &&
  depends  -sub 'XSLT'  kdelibs        &&
  .  "$SECTION_DIRECTORY/KDE_DEPENDS"
else
  depends  docbook-utils    &&
  depends  X11-LIBS         &&
  depends  qt-x11           &&
  depends  libpng           &&
  .  "$GRIMOIRE/FUNCTIONS"  &&
  if check_if_xorg_modular_libs
  then
    depends  libxext  &&
    depends  libx11   &&
    depends  libsm    &&
    depends  libice
  fi
fi  &&

# Taglib, id3lib, and libvorbis are optional but build fails if none
# of them are selected. The author recommended taglib as the minimum
# in a mail he sent me. -iuso
depends  taglib  &&

optional_depends  id3lib              \
                  "--with-id3lib"     \
                  "--without-id3lib"  \
                  "to use id3lib"     &&

message  "${MESSAGE_COLOR}libvorbis is required for FLAC and"  \
         "MusicBrainz support.${DEFAULT_COLOR}"                &&

optional_depends  libvorbis                \
                  "--with-vorbis"          \
                  "--without-vorbis        \
                   --without-flac          \
                   --without-musicbrainz"  \
                  "to use Ogg Vorbis"      &&

if is_depends_enabled $SPELL libvorbis
then
  depends  libogg                            &&
  optional_depends  flac                     \
                    "--with-flac"            \
                    "--without-flac"         \
                    "to use FLAC"            &&
  optional_depends  libtunepimp              \
                    "--with-musicbrainz"     \
                    "--without-musicbrainz"  \
                    "to use MusicBrainz"
else
  message "${MESSAGE_COLOR}libvorbis was not selected, will not query"  \
          "about FLAC and MusicBrains support.${DEFAULT_COLOR}"
fi
