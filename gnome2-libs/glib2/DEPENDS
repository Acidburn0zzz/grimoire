. "$GRIMOIRE/FUNCTIONS" &&

depends pkgconfig &&
depends libffi  &&

if  !  spell_installed  pkgconfig;  then
  force_depends  pkgconfig
fi  &&

depends perl      &&
depends python    &&

optional_depends gettext                            \
                 ""                                 \
                 "--with-libiconv=no"               \
                 "Build with gettext?"              &&

optional_depends FAM                                \
                 "--enable-fam"                     \
                 "--disable-fam"                    \
                 "Build with file system monitoring" &&

optional_depends -sub UTFPROP pcre                  \
                 "--with-pcre=system"               \
                 "--with-pcre=internal"             \
                 "Use system supplied PCRE. Otherwise, the internal PCRE library will be used" &&

if is_depends_enabled $SPELL pcre; then
  if spell_ok pcre && is_version_less $(installed_version pcre) 8.11; then
    force_depends pcre
  fi
fi &&

optional_depends libselinux                         \
                 "--enable-selinux"                 \
                 "--disable-selinux"                \
                 "Build with selinux support"       &&

optional_depends gtk-doc                            \
                 "--enable-gtk-doc"                 \
                 "--disable-gtk-doc"                \
                 "Build documentation with gtk-doc"
