config_query_option NSD_OPTS "Configure NSD as a root server?" n \
                             "--enable-root-server" \
                             "--disable-root-server" &&

config_query_option NSD_OPTS "Enable IPv6 support?" y \
                             "--enable-ipv6" \
                             "--disable-ipv6" &&

config_query_option NSD_OPTS "Enable BIND8-like NSTATS & XSTATS?" n \
                             "--enable-bind8-stats" \
                             "--disable-bind8-stats" &&

config_query_option NSD_OPTS "Enable rate limiting?" n \
                             "--enable-ratelimit" \
                             "--disable-ratelimit" &&

config_query_option NSD_OPTS "Enable NSEC3 support?" y \
                             "--enable-nsec3" \
                             "--disable-nsec3" &&

if list_find "$NSD_OPTS" "--enable-nsec3"; then
  config_query_option NSD_OPTS "Enable NSEC3 full prehashing?" y \
                               "--enable-full-prehash" \
                               "--disable-full-prehash"
else
  list_add "NSD_OPTS" "--disable-full-prehash"
fi &&

config_query_option NSD_OPTS "Enable response minimization (less truncation)?" y \
                             "--enable-minimal-responses" \
                             "--disable-minimal-responses" &&

config_query_option NSD_OPTS "Use mmap instead of malloc (${PROBLEM_COLOR}Experimental${QUERY_COLOR})?" n \
                             "--enable-mmap" \
                             "--disable-mmap" &&

config_query_option NSD_OPTS "Maintain statistics per zone, instead of global statistics?" n \
                             "--enable-zone-stats" \
                             "--disable-zone-stats"
