config_query LIRC_ALL "Compile all drivers instead of selecting from list (some may well not build)?" n &&
if [[ "$LIRC_ALL" == n ]]; then
  local drivers=$(<"$SCRIPT_DIRECTORY/drivers") &&
  while true
  do
    message "${MESSAGE_COLOR}So, choose some drivers from this list:$DEFAULT_COLOR" &&
    message $drivers &&
    config_query_string LIRC_DRIVER "Your selection of _one_ entry:" serial &&
    if list_find "$drivers" "$LIRC_DRIVER"; then
      message "${MESSAGE_COLOR}OK, seems to be one of the options...$DEFAULT_COLOR"
      break
    else
      message "${MESSAGE_COLOR}Hey, please select something from the list!$DEFAULT_COLOR"
      persistent_remove LIRC_DRIVER
    fi
  done
fi
