           SPELL=device-mapper

###
# 2006-09-27
# DEVICE_MAPPER_DEVEL -> DEVICE_MAPPER_BRANCH

if [ "$DEVICE_MAPPER_DEVEL" == "y" ]; then
  DEVICE_MAPPER_BRANCH="DEFAULT"
fi

if [ "$DEVICE_MAPPER_DEVEL" == "n" ]; then
  DEVICE_MAPPER_BRANCH="1.01"
fi
###

if [ -z "$DEVICE_MAPPER_BRANCH" ] || [ "$DEVICE_MAPPER_BRANCH" == "DEFAULT" ]; then
  DEVICE_MAPPER_BRANCH="1.02"
fi

case $DEVICE_MAPPER_BRANCH in
  1.01)
         VERSION=1.01.05
     SOURCE_HASH=sha512:841818b27395218d2d226a1f62c0182e1c3b10dfc7c437efb158d1843cea658216fbde6c4ec3bc18104521f32074325e255368069adbc275932337ac265b1f67
      PATCHLEVEL=1
  ;;
  1.02)
         VERSION=1.02.14
     SOURCE_HASH=sha512:c4313ab5c3e443c4d92fdb776beed711c7ce9515001eff4363c39e3b2e146fe8839a4c55b7c7c720f8145362840ef395f0856aefa36c4b090e9457805a05be74
  ;;
esac

          SOURCE=$SPELL.$VERSION.tgz
SOURCE_DIRECTORY=$BUILD_DIRECTORY/$SPELL.$VERSION
   SOURCE_URL[0]=ftp://sources.redhat.com/pub/dm/$SOURCE
        WEB_SITE=http://sources.redhat.com/dm/
         ENTERED=20031210
        KEYWORDS="kernels"
           SHORT="userspace files of device-mapper"
      LICENSE[0]=GPL
cat << EOF
The Device-mapper is a new component of the linux kernel that supports logical 
volume management. It is required by LVM2 and EVMS. The original LVM (included 
in stock 2.4 kernels) does not use it.

If you intend to use Device-mapper, as well as adding it to your kernel, you 
should install the userspace configuration tool (dmsetup) and library 
(libdevmapper), you should install this spell.
EOF
