--- insmod.c.old	2007-02-21 18:12:13.000000000 -0800
+++ insmod.c	2007-05-29 07:34:57.000000000 -0700
@@ -115,7 +115,7 @@
 		exit(1);
 	}
 
-	(p = strrchr(argv[0], '/')) ? p++ : argv[0];
+	p = (p = strrchr(argv[0], '/')) ? p++ : argv[0];
 	if (strstr(p, "insmod.static"))
 		try_old_version("insmod.static", argv);
 	else
