depends -sub TOOLS qt4 &&
depends cmake    &&
if [[ $SOP_VER == devel ]];then
  depends subversion 
fi &&
if [[ $SOP_VER != stable ]];then
  message 'kde4 >= 4.3.82 only supports virtuoso backend for Nepomuk' &&
  optional_depends libiodbc '' '-DSOPRANO_DISABLE_VIRTUOSO_BACKEND=1' 'Virtuoso backend' &&
  if is_depends_enabled $SPELL libiodbc;then
    suggest_depends virtuoso '' '' 'full-text search database'
  fi
else 
  message 'kde4-4.3.x can use the Redland backend for Nepomuk'
fi &&
optional_depends redland '' '-DSOPRANO_DISABLE_REDLAND_BACKEND=1' 'Redland backend' &&
optional_depends dbus     '' '-DSOPRANO_DISABLE_DBUS=1' 'dbus integration' &&
if is_depends_enabled $SPELL dbus;then
  sub_depends qt4 DBUS
fi  &&
optional_depends raptor  '' '-DSOPRANO_DISABLE_RAPTOR_PARSER=1' 'raptor parser and serializer plugins' &&
optional_depends clucene '' '-DSOPRANO_DISABLE_CLUCENE_INDEX=1' 'full-text search index'
