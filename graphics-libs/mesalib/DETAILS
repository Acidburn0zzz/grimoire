           SPELL=mesalib

if [[ -z $MESALIB_BRANCH ]]; then
  MESALIB_BRANCH="stable"
fi

case "$MESALIB_BRANCH" in 
  stable)
         VERSION=7.9.2
      SOURCE_GPG="gurus.gpg:$SOURCE.sig:WORKS_FOR_ME"
  ;;
  feature)
         VERSION=7.10.3
      SOURCE_GPG="gurus.gpg:$SOURCE.sig:WORKS_FOR_ME"
  ;;
  development)
         VERSION=8.0-rc2
         SOURCE_HASH=sha512:fad4ae143b3fd640b7bb593dc3e449cc86c27343d37a5993554dbae1cf8b41d644a7775146db7ad81bee5b54b7d4e4304f041c8a71a52fb3c7312f96b2f663f9
  ;;
  scm)
    if [[ "$MESALIB_AUTOUPDATE" == "y" ]]; then
         VERSION=$(date +%Y%m%d)
    else
         VERSION=git
    fi

  ;;
esac

if [[ "$MESALIB_BRANCH" == "scm" ]]; then
          SOURCE=$SPELL-git.tar.bz2
  FORCE_DOWNLOAD="on"
   SOURCE_URL[0]=git://anongit.freedesktop.org/git/mesa/mesa:mesalib-git
SOURCE_DIRECTORY=${BUILD_DIRECTORY}/mesalib-git
   SOURCE_IGNORE=volatile
else
          SOURCE=MesaLib-${VERSION}.tar.bz2
   SOURCE_URL[0]=ftp://ftp.freedesktop.org/pub/mesa/${VERSION//-rc?/}/$SOURCE
SOURCE_DIRECTORY=${BUILD_DIRECTORY}/Mesa-${VERSION}
fi
      LICENSE[0]=GPL
        WEB_SITE=http://www.mesa3d.org/
        KEYWORDS="graphics libs"
         ENTERED=20021120
           SHORT="Mesa implementation of the OpenGL(TM) API"
cat << EOF
Mesa is a 3-D graphics library with an API which is very similar to
that of OpenGL.* To the extent that Mesa utilizes the OpenGL command
syntax or state machine, it is being used with authorization from
Silicon Graphics, Inc.(SGI). However, the author does not possess an
OpenGL license from SGI, and makes no claim that Mesa is in any way a
compatible replacement for OpenGL or associated with SGI. Those who
want a licensed implementation of OpenGL should contact a licensed
vendor.
EOF
