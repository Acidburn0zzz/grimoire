depends -sub CXX gcc &&
depends pkgconfig &&
depends ncurses   &&
depends libassuan &&
optional_depends libcap '' '' 'capabilities support' &&

optional_depends libsecret \
                 "--enable-libsecret" \
                 "--disable-libsecret" \
                 "cache passphrases using libsecret" &&

optional_depends libx11                                                                                                     \
                 ""                                                                                                 \
                 "--disable-pinentry-gtk2 --disable-pinentry-qt4"  \
                 "for X11 support (needed for GTK+2/QT4 support)"                                                      &&

if is_depends_enabled  "$SPELL"  "libx11"; then
  optional_depends gtk+2                      \
                   "--enable-pinentry-gtk2"   \
                   "--disable-pinentry-gtk2"  \
                   "to build GTK+2 pinentry"  &&

  optional_depends qt4                       \
                   "--enable-pinentry-qt4"   \
                   "--disable-pinentry-qt4"  \
                   "to build Qt4 pinentry"
fi
