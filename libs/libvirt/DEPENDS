depends  gnutls    &&
depends  libxml2   &&
depends  readline  &&
depends  curl      &&
depends  glib2     &&
depends  gnutls    &&

depends  -sub "LVM_FULL" lvm  '--with-storage-lvm'  &&

optional_depends  avahi                                  \
                  '--with-avahi'                         \
                  '--without-avahi'                      \
                  'for Avahi remote daemon advertising'  &&

optional_depends  LIBSASL                                  \
                  '--with-sasl'                            \
                  '--without-sasl'                         \
                  'for Cyrus SASL authentication support'  &&

optional_depends  gettext                        \
                  '--enable-nls'                 \
                  '--disable-nls'                \
                  'for Native Language support'  &&

optional_depends  iptables                        \
                  ''                              \
                  ''                              \
                  'for IP table routing support'  &&

optional_depends  xen-tools                         \
                  '--with-xen'                      \
                  '--without-xen'                   \
                  'for Xen support'                 &&

if is_depends_enabled $SPELL xen ; then
config_query_option  LIBVIRT_OPTS 'Enable Xen inotify support' y \
                     '--with-xen-inotify' '--without-xen-inotify'
fi &&

optional_depends  parted                              \
                  '--with-storage-disk'               \
                  '--without-storage-disk'            \
                  'for GParted partitioning backend'  &&

optional_depends  hal \
                  '--with-hal' \
                  '--without-hal' \
                  'HAL support' &&

optional_depends  devicekit \
                  '--with-devkit' \
                  '--without-devkit' \
                  'DeviceKit support' &&

optional_depends  python \
                  '--with-python' \
                  '--without-python' \
                  'Python bindings' &&

optional_depends  policykit \
                  '--with-polkit' \
                  '--without-polkit' \
                  'PolicyKit support' &&

optional_depends  libssh2 \
                  '--with-libssh2' \
                  '--without-libssh2' \
                  'SSH2 support' &&

suggest_depends  nc '' '' 'for remote SSH tunneling'

