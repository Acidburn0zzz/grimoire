depends  pkgconfig  &&
depends  g++        &&
depends  cmake      &&
depends  qt-x11     &&
depends  kdelibs    &&
depends  fftw       &&

optional_depends  alsa-lib                                     \
                  "-DWANT_SOUND=1"                             \
                  "-DWANT_SOUND=0"                             \
                  "to enable sound and for ALSA MIDI support"  &&

.  "$GRIMOIRE/is_depends_enabled.function"  &&

if  is_depends_enabled  $SPELL  alsa-lib
then
  optional_depends  JACK-DRIVER               \
                    "-DWANT_JACK=1"           \
                    "-DWANT_JACK=0"           \
                    "for JACK audio support"  &&

  optional_depends  ladspa                       \
                    ""                           \
                    ""                           \
                    "for LADSPA plugin support"  &&

  optional_depends  dssi                       \
                    "-DWANT_DSSI=1"            \
                    "-DWANT_DSSI=0"            \
                    "for DSSI plugin support"  &&

  optional_depends  liblo                                  \
                    ""                                     \
                    ""                                     \
                    "for audio plugin custom GUI support"  &&

  optional_depends  liblrdf                              \
                    ""                                   \
                    ""                                   \
                    "for audio plugin metadata support"
fi  &&

.  "$GRIMOIRE/FUNCTIONS"

if  check_if_xorg_modular_libs  qt-x11
then
  depends  libsm    &&
  depends  libice   &&
  depends  libx11   &&
  depends  libxext  &&

  optional_depends  libxft  \
                    ""      \
                    ""      \
                    "for better score rendering quality"
fi  &&

optional_depends  lirc             \
                  "-DWANT_LIRC=1"  \
                  "-DWANT_LIRC=0"  \
                  "for remote control support"
