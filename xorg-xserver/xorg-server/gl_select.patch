--- hw/xfree86/dixmods/Makefile.in.orig	2009-02-28 21:59:16.000000000 +0100
+++ hw/xfree86/dixmods/Makefile.in	2009-02-28 21:56:05.000000000 +0100
@@ -589,8 +589,7 @@
 
 extsmoduledir = $(moduledir)/extensions
 extsmodule_LTLIBRARIES = $(RECORDMOD) \
-			 $(DBEMOD) \
-                         $(GLXMODS)
+			 $(DBEMOD)
 
 AM_CFLAGS = @XORG_CFLAGS@ @DIX_CFLAGS@
 INCLUDES = @XORG_INCS@ \
@@ -663,6 +662,14 @@
 install-extsmoduleLTLIBRARIES: $(extsmodule_LTLIBRARIES)
 	@$(NORMAL_INSTALL)
 	test -z "$(extsmoduledir)" || $(mkdir_p) "$(DESTDIR)$(extsmoduledir)"
+	$(mkdir_p) "$(DESTDIR)$(extsmoduledir)/mesa"
+	@lst='$(GLXMODS)'; for r in $$lst; do \
+	  if test -f $$r; then \
+	    h=$(am__strip_dir) \
+	    echo " $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(extsmoduleLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$r' '$(DESTDIR)$(extsmoduledir)/mesa/$$h'"; \
+	    $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(extsmoduleLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$r" "$(DESTDIR)$(extsmoduledir)/mesa/$$h"; \
+	  else :; fi; \
+	done
 	@list='$(extsmodule_LTLIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    f=$(am__strip_dir) \
@@ -1001,7 +1008,7 @@
 	done
 check-am: all-am
 check: check-recursive
-all-am: Makefile $(LTLIBRARIES)
+all-am: Makefile $(LTLIBRARIES) $(GLXMODS)
 installdirs: installdirs-recursive
 installdirs-am:
 	for dir in "$(DESTDIR)$(extsmoduledir)" "$(DESTDIR)$(moduledir)"; do \
--- hw/xfree86/dri/Makefile.in.orig	2009-02-28 22:00:28.000000000 +0100
+++ hw/xfree86/dri/Makefile.in	2009-02-28 21:48:28.000000000 +0100
@@ -559,7 +559,7 @@
                    @GL_CFLAGS@
 
 libdri_la_LDFLAGS = -module -avoid-version @LIBDRM_LIBS@
-libdri_ladir = $(moduledir)/extensions
+libdri_ladir = $(moduledir)/extensions/mesa
 libdri_la_SOURCES = \
 	dri.c \
 	dri.h \
