depends -sub "SVG SSL" kdelibs  &&

#if  [  "$KDEBASE_AFS"   =  "y"  ]  ||
#    [  "$KDEBASE_KRB4"  =  "y"  ]  ||
#    [  "$KDEBASE_KRB5"  =  "y"  ];  then
#  message  "${MESSAGE_COLOR}AFS and KRB4 require krb5 to be compiled with krb4 support${DEFAULT_COLOR}"
#
#  depends  krb5
#fi  &&

source  $GRIMOIRE/FUNCTIONS  &&

if  check_if_xorg_modular_libs  qt-x11  ;  then
  depends  imake          &&
  depends  libxau         &&
  depends  libxcomposite  &&
  depends  libxcursor     &&
  depends  libxdmcp       &&
  depends  libxfixes      &&
  depends  libxft         &&
  depends  libxrandr      &&
  depends  libxtst        &&
  depends  libxxf86misc
fi  &&

source  $SECTION_DIRECTORY/KDE_DEPENDS  &&

optional_depends  OPENGL                 \
                  '--with-gl'            \
                  '--without-gl'         \
                  'for 3D OpenGL modes'  &&

optional_depends  shadow                         \
                  '--with-shadow'                \
                  '--without-shadow'             \
                  'for shadow password support'  &&

optional_depends  linux-pam                 \
                  '--with-pam=yes'          \
                  '--with-pam=no'           \
                  'for PAM authentication'  &&

optional_depends  openldap                   \
                  '--with-ldap'              \
                  '--without-ldap'           \
                  'for LDAP authentication'  &&

optional_depends  JAVA                      \
                  ''                        \
                  '--without-java'          \
                  'for Java support in konqueror'  \
                  'z-rejected'              &&

optional_depends  libraw1394              \
                  ''                      \
                  ''                      \
                  'for firewire support'  &&

optional_depends  cdparanoia              \
                  ''                      \
                  ''                      \
                  'for CD ripping'       &&

optional_depends  libvorbis               \
                  ''                      \
                  ''                      \
                  'for Ogg/Vorbis support' &&

optional_depends  lame                    \
                  ''                      \
                  ''                      \
                  'for MP3 support'      &&

optional_depends  libusb                  \
                  ''                      \
                  ''                      \
                  'for usb support'      &&

optional_depends  mtools                  \
                  ''                      \
                  ''                      \
                  'for direct floppy access'      &&

optional_depends  samba                   \
                  ''                      \
                  ''                      \
                  'for smb support'       &&

optional_depends  wine                    \
                  ''                      \
                  ''                      \
                  'for ActiveX support'   &&


optional_depends  cyrus-sasl                       \
                  ''                               \
                  ''                               \
                  'for Cyrus SASL authentication'  &&

optional_depends  openssl                         \
                  '--with-ssl'                    \
                  '--without-ssl'                 \
                  'to use encrypted connections'  &&

optional_depends  hal                                 \
                  '--with-hal'                        \
                  '--without-hal'                     \
                  'for automatic hardware detection'  &&

# is_depends_enabled is only in devel for now #12949
# once it is everywhere, only the second if block should remain
if declare -f is_depends_enabled &> /dev/null; then
  if is_depends_enabled $SPELL hal; then
    depends dbus-qt3-old
  fi
else
  message "dbus-qt3-old is needed for the hal backend, so say y here if you said y to hal" &&
  optional_depends dbus-qt3-old '' '' 'for automatic hardware detection'
fi &&

optional_depends  ntp                                  \
                  ''                                   \
                  ''                                   \
                  'for network time protocol support'
