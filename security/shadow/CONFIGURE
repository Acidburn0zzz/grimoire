config_query SHADOW_CONV "Attempt to convert/fix accounts (with installed shadow utils)" y &&
if [[ "$SHADOW_CONV" == y ]]; then
  message "OK, checking your user and group accounts" &&
  grpck -r "$INSTALL_ROOT/etc/group" "$INSTALL_ROOT/etc/gshadow" ||
  {
    message "there are problems with group... runinng grpck 
interactively" &&
    grpck "$INSTALL_ROOT/etc/group" "$INSTALL_ROOT/etc/gshadow"
  }
  pwck -q -r "$INSTALL_ROOT/etc/passwd" "$INSTALL_ROOT/etc/shadow" ||
  {
    message "there are problems with passwd... runinng grpck 
interactively" &&
    grpck "$INSTALL_ROOT/etc/passwd" "$INSTALL_ROOT/etc/shadow"
  }
fi
# the tools give negative return even after successfully fixing stuff
true
