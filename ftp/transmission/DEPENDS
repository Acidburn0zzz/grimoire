. "$GRIMOIRE/FUNCTIONS" &&

depends openssl  &&
depends intltool &&
depends curl     &&
depends libevent &&

if spell_ok libevent && is_version_less $(installed_version libevent) 2.0.10; then
  force_depends libevent
fi &&

runtime_depends zlib &&

optional_depends gtk+2 \
                 "--enable-gtk" \
                 "--disable-gtk" \
                 "for GTK+2 client" &&

if is_depends_enabled $SPELL gtk+2; then

  depends gettext '--enable-nls' &&

  optional_depends gconf2 \
                  "--enable-gconf2" \
                  "--disable-gconf2" \
                  "for GConf support" &&

  optional_depends libnotify \
                   "--enable-libnotify" \
                   "--disable-libnotify" \
                   "for notifications support" &&

  optional_depends libcanberra \
                   "--enable-libcanberra" \
                   "--disable-libcanberra" \
                   "for sounds support" &&

  optional_depends dbus-glib "" "" "for dbus support"
else

  optional_depends gettext \
                   "--enable-nls" \
                   "--disable-nls" \
                   "for native language support"
fi
