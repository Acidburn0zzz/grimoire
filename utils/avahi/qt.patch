diff -uNr avahi-0.6.17/configure.ac avahi-0.6.17.cp/configure.ac
--- avahi-0.6.17/configure.ac	2007-01-05 23:43:43.000000000 +0100
+++ avahi-0.6.17.cp/configure.ac	2007-03-06 17:11:45.000000000 +0100
@@ -343,7 +343,7 @@
 	    QT3_PREFIX="`$PKG_CONFIG --variable=prefix qt-mt`/bin"
         MOC_QT3="no"
 	    AC_CHECK_FILE( "$QT3_PREFIX/moc-qt3", [ MOC_QT3=$QT3_PREFIX/moc-qt3 ], [
-        	    AC_CHECK_FILE("$QT3_PREFIX/moc", [ MOC_QT3=$QT3_PREFIX/moc ], [ 
+        	    AC_CHECK_FILE("/usr/bin/moc", [ MOC_QT3=/usr/bin/moc ], [ 
                 AC_MSG_ERROR([Couldn't find QT3 moc])])])
         AC_SUBST(MOC_QT3)
 fi
@@ -368,7 +368,7 @@
 	    QT4_PREFIX="`$PKG_CONFIG --variable=prefix QtCore`/bin"
         MOC_QT4="no"
 	    AC_CHECK_FILE( "$QT4_PREFIX/moc-qt4", [ MOC_QT4=$QT4_PREFIX/moc-qt4 ], [
-               AC_CHECK_FILE("$QT4_PREFIX/moc", [ MOC_QT4=$QT4_PREFIX/moc ], [ 
+       	       AC_CHECK_FILE("/usr/bin/qt4/moc", [ MOC_QT4=/usr/bin/qt4/moc ], [ 
                AC_MSG_ERROR([Couldn't find QT4 moc])])])
         AC_SUBST(MOC_QT4)
 fi
