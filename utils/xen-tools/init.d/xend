#!/bin/bash

PROGRAM=/bin/false
RUNLEVEL=3
NEEDS="+local_fs +network"
PROVIDES="xend"
RECOMMENDED=yes

. /etc/init.d/smgl_init
. /etc/init.d/smgl_functions

await_daemons_up()
{
  i=1
  rets=10
  xend status
  while [ $? -ne 0 -a $i -lt $rets ]
  do
    sleep 1
    i=$(($i + 1))
    xend status
  done
}

start()
{
  xend start
  await_daemons_up
}

stop()
{
  xend stop
}

status()
{
  xend status
}

reload()
{
  xend reload
}

restart()
{
  xend restart
  await_daemons_up
}

force-reload()
{
  restart
}

