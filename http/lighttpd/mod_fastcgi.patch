--- src/mod_fastcgi.c.orig
+++ src/mod_fastcgi.c
@@ -235,4 +235,14 @@
 
 	unsigned short break_scriptfilename_for_php;
+
+	/*
+	 * workaround for program when prefix="/"
+	 *
+	 * rule to build PATH_INFO is hardcoded for when check_local is disabled
+	 * enable this option to use the workaround
+	 *
+	 */
+
+	unsigned short fix_root_path_name;
 
 	/*
@@ -1196,4 +1206,5 @@
 						{ "strip-request-uri",  NULL, T_CONFIG_STRING, T_CONFIG_SCOPE_CONNECTION },      /* 16 */
 						{ "kill-signal",        NULL, T_CONFIG_SHORT, T_CONFIG_SCOPE_CONNECTION },      /* 17 */
+						{ "fix-root-scriptname",   NULL, T_CONFIG_BOOLEAN, T_CONFIG_SCOPE_CONNECTION },  /* 18 */
 
 						{ NULL,                NULL, T_CONFIG_UNSET, T_CONFIG_SCOPE_UNSET }
@@ -1223,4 +1234,5 @@
 					host->allow_xsendfile = 0; /* handle X-LIGHTTPD-send-file */
 					host->kill_signal = SIGTERM;
+					host->fix_root_path_name = 0;
 
 					fcv[0].destination = host->host;
@@ -1244,4 +1256,5 @@
 					fcv[16].destination = host->strip_request_uri;
 					fcv[17].destination = &(host->kill_signal);
+					fcv[18].destination = &(host->fix_root_path_name);
 
 					if (0 != config_insert_values_internal(srv, da_host->value, fcv)) {
@@ -3586,4 +3599,11 @@
 			 * PATH_INFO   = /bar
 			 *
+			 * if prefix = /, and fix-root-path-name is enable
+			 *
+			 * /fcgi-bin/foo/bar
+			 *
+			 * SCRIPT_NAME = /fcgi-bin/foo
+			 * PATH_INFO   = /bar
+			 *
 			 */
 
@@ -3597,4 +3617,8 @@
 
 				con->uri.path->used -= con->request.pathinfo->used - 1;
+				con->uri.path->ptr[con->uri.path->used - 1] = '\0';
+			} else if (host->fix_root_path_name && extension->key->ptr[0] == '/' && extension->key->ptr[1] == '\0') {
+				buffer_copy_string(con->request.pathinfo, con->uri.path->ptr);
+				con->uri.path->used = 1;
 				con->uri.path->ptr[con->uri.path->used - 1] = '\0';
 			}
