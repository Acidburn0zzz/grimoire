depends JPEG &&
depends gtk+2 &&
depends libidl &&
depends libxft &&
depends nspr &&
depends -sub 3.12.x nss &&
depends -sub "TSAFE SECURE_DELETE ENABLE_UNLOCK_NOTIFY" sqlite &&
depends perl &&
depends zip &&
depends zlib &&
depends libxt &&
depends libffi &&
depends dbus-glib &&
depends libevent &&
depends libnotify &&

if list_find "$SEAMONKEY_OPTS" "--enable-system-cairo"; then
  depends cairo
fi &&

if list_find "$SEAMONKEY_OPTS" "--enable-pango"; then
  depends pango
fi &&

if list_find "$SEAMONKEY_OPTS" "--enable-ldap"; then
  depends openldap
fi &&

if list_find "$SEAMONKEY_OPTS" "--enable-necko-wifi"; then
  depends wireless_tools
fi &&

if list_find "$SEAMONKEY_OPTS" "--enable-webm"; then
  depends yasm &&
  depends alsa-lib &&

  optional_depends libvpx "" "" "to use system libvpx for WebM support"
else
  optional_depends alsa-lib "" "" "for audio support"
fi &&

if is_depends_enabled $SPELL libvpx; then
  list_add "SEAMONKEY_OPTS" "--with-system-libvpx"
fi &&

if ! is_depends_enabled $SPELL alsa-lib; then
  list_add "SEAMONKEY_OPTS" "--disable-ogg" &&
  list_add "SEAMONKEY_OPTS" "--disable-wave"
fi
