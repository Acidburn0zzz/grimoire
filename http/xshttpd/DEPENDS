optional_depends openssl \
  '--with-ssl' \
  '--without-ssl' \
  'for SSL connection support' &&

optional_depends pcre \
  '--with-pcre' \
  '--without-pcre' \
  'for rewrite support' &&

optional_depends openldap \
  '--with-ldap' \
  '--without-ldap' \
  'for LDAP support' &&

optional_depends curl \
  '--with-curl' \
  '--without-curl' \
  'for reverse proxy support' &&

if [[ "$XSHTTPD_BRANCH" == 'devel' ]]; then
  optional_depends perl \
    '--with-perl' \
    '--without-perl' \
    'for embedded Perl support (experimental)'
fi &&

optional_depends python \
  '--with-python' \
  '--without-python' \
  'for embedded Python support (experimental)'

# temporarily disabled, not working well under linux, the build is trying to
# link with libruby18 instead of libruby
#if [[ "$XSHTTPD_BRANCH" == 'devel' ]]; then
#  optional_depends ruby \
#    '--with-ruby' \
#    '--witout-ruby' \
#    'for embedded Ruby support (experimental)'
#fi
