# Source grimoire FUNCTIONS to have get_kernel_version
.  "$GRIMOIRE/FUNCTIONS"

# kernel < 2.6.15-rc1 can't use udev > 0.93 because udevsend
# has been removed

local  KVER=$(get_kernel_version)        &&
local  VER2=$(echo $KVER | cut -d. -f2)  &&
local  VER3=$(echo $KVER | cut -d. -f3)  &&
       VER3=${VER3%%[^0-9]*}             &&

if (( VER2 < 6 ))            ||
   (( VER2 == 6 && VER3 < 15 ))
then
  message  "${PROBLEM_COLOR}You have a kernel < 2.6.15, it is too"    \
           "old for the latest udev.\nPlease cast udev-old instead."  \
           "$DEFAULT_COLOR"                                           &&
  return 1
fi
