config_query_option UDEV_DEBUG \
                    "Compile extra debugging messages?" \
                    n \
                    "DEBUG=true" \
                    "DEBUG=false" &&

config_query UDEV_EXTRAS \
             "Build extra helpers?" \
             y &&

# store extras build options in a var for reuse
local _EXTRAS_TARG="extras/cdrom_id \
                    extras/firmware extras/rule_generator" &&

if [[ $UDEV_EXTRAS == y ]]; then
  _EXTRAS_TARG="$_EXTRAS_TARG extras/ata_id extras/usb_id extras/edd_id \
                extras/floppy extras/scsi_id extras/volume_id extras/usb_id"
fi &&

persistent_add _EXTRAS_TARG &&

if spell_ok hotplug; then
  message "You seem to have hotplug installed. Hotplug has been" \
          "officially\ndeprecated in favor of udev, and it is" \
          "highly recommended that\nhotplug is removed after" \
          "udev has been installed." &&

  config_query UDEV_DISPEL_HOTPLUG \
               "Dispel hotplug after udev is cast?" \
               y
fi
